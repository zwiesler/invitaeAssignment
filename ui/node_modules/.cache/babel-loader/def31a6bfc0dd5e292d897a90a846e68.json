{"ast":null,"code":"import _classCallCheck from \"/Users/zachary/home/personal/code/invitae/variant-search-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zachary/home/personal/code/invitae/variant-search-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zachary/home/personal/code/invitae/variant-search-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zachary/home/personal/code/invitae/variant-search-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zachary/home/personal/code/invitae/variant-search-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/zachary/home/personal/code/invitae/variant-search-ui/src/pages/Home.js\";\nimport React, { Component } from 'react';\nimport { Grid, Image, Header, Search } from 'semantic-ui-react';\nimport { withRouter } from \"react-router-dom\";\nimport _ from 'lodash';\nimport VariantTable from '../components/VariantTable/VariantTable';\nimport SearchIcon from '../components/SearchIcon/SearchIcon'; // components\n\nimport API from '../util/API';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isLoading: false,\n      autosuggestOptions: [],\n      variantData: null\n    };\n\n    _this.searchByGene = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      API.variantTable().getGene(_this.state.searchTerm).then(function (response) {\n        _this.setState({\n          isLoading: false,\n          variantData: response.data.variant_data\n        });\n      });\n    };\n\n    _this.autocomplete = function () {\n      API.variantTable().autocomplete(_this.state.searchTerm).then(function (response) {\n        _this.setState({\n          autosuggestOptions: response.data.autosuggest_genes.map(function (gene) {\n            return {\n              key: gene,\n              text: gene,\n              value: gene\n            };\n          })\n        });\n      });\n    };\n\n    _this.handleResultSelect = function (e, _ref) {\n      var result = _ref.result;\n\n      _this.setState({\n        searchTerm: result.title\n      });\n    };\n\n    _this.handleClick = function (e) {\n      _this.searchByGene(e.nativeEvent.srcElement.value);\n    };\n\n    _this.handleKeyUp = function (e) {\n      console.log(e.nativeEvent.srcElement.value);\n      console.log(_this.state.searchTerm);\n\n      _this.setState({\n        searchTerm: e.nativeEvent.srcElement.value\n      });\n\n      if (e.key === 'Enter') {\n        _this.searchByGene();\n      } else {\n        _this.autocomplete();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          variantData = _this$state.variantData,\n          autosuggestOptions = _this$state.autosuggestOptions,\n          searchTerm = _this$state.searchTerm;\n      return React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(Grid.Column, {\n        width: 14,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: \"/public/invitae_logo.png\",\n        size: \"massive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(Grid.Column, {\n        width: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h1\",\n        style: {\n          fontFamily: 'ScalaSansWeb',\n          color: '#525252',\n          padding: '9px 17px 6px 9px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Variant Search\")), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Search, {\n        loading: isLoading,\n        onResultSelect: function onResultSelect(e) {\n          return _this2.handleResultSelect(e);\n        },\n        noResultsMessage: \"\",\n        placeholder: \"Search for genes\",\n        options: autosuggestOptions // icon={<SearchIcon handleClick={this.handleClick}/>}\n        ,\n        onKeyUp: function onKeyUp(e) {\n          return _this2.handleKeyUp(e);\n        },\n        style: {\n          width: '40%'\n        },\n        value: searchTerm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))))), React.createElement(Grid.Column, {\n        width: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(VariantTable, {\n        variantData: variantData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/zachary/home/personal/code/invitae/variant-search-ui/src/pages/Home.js"],"names":["React","Component","Grid","Image","Header","Search","withRouter","_","VariantTable","SearchIcon","API","Home","state","isLoading","autosuggestOptions","variantData","searchByGene","setState","variantTable","getGene","searchTerm","then","response","data","variant_data","autocomplete","autosuggest_genes","map","gene","key","text","value","handleResultSelect","e","result","title","handleClick","nativeEvent","srcElement","handleKeyUp","console","log","fontFamily","color","padding","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Grid, Image, Header, Search } from 'semantic-ui-react'\nimport { withRouter } from \"react-router-dom\";\nimport _ from 'lodash'\n\nimport VariantTable from '../components/VariantTable/VariantTable';\nimport SearchIcon from '../components/SearchIcon/SearchIcon';\n\n// components\nimport API from '../util/API';\n\n\nclass Home extends Component {\n\tstate = {\n\t\tisLoading: false,\n\t\tautosuggestOptions: [],\n\t\tvariantData: null\n\t}\n\n\tsearchByGene = () => {\n\t\tthis.setState({isLoading: true});\n\t\tAPI.variantTable().getGene(this.state.searchTerm).then(response => {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\tvariantData: response.data.variant_data \n\t\t\t});\n\t\t})\n\t}\n\n\tautocomplete = () => {\n\t\tAPI.variantTable().autocomplete(this.state.searchTerm).then(response => {\n\t\t\tthis.setState({\n\t\t\t\tautosuggestOptions: response.data.autosuggest_genes.map((gene) => {\n\t\t\t\t\treturn {key: gene, text: gene, value: gene}\n\t\t\t\t})\n\t\t\t})\n\t\t});\n\t}\n\n\thandleResultSelect = (e, { result }) => {\n\t\tthis.setState({ searchTerm: result.title })\n\t}\n\n\t// handleSearchChange = (e, { value }) => {\n //    this.setState({ isLoading: true, value })\n\n //    setTimeout(() => {\n //      if (this.state.value.length < 1) return this.resetComponent()\n\n //      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n //      const isMatch = result => re.test(result.title)\n\n //      this.setState({\n //        isLoading: false,\n //        results: _.filter(source, isMatch),\n //      })\n //    }, 300)\n //  }\n\n  handleClick = (e) => {\n  \tthis.searchByGene(e.nativeEvent.srcElement.value);\n  }\n\n  handleKeyUp = (e) => {\n  \tconsole.log(e.nativeEvent.srcElement.value);\n  \tconsole.log(this.state.searchTerm);\n  \tthis.setState({searchTerm: e.nativeEvent.srcElement.value})\n  \tif (e.key === 'Enter') {\n  \t\tthis.searchByGene();\n  \t} else {\n  \t\tthis.autocomplete();\n  \t}\n  }\n\n\trender() {\n\t\tconst { isLoading, variantData, autosuggestOptions, searchTerm } = this.state;\n\t\t\n\t\treturn (\n\t\t\t<Grid>\n\t\t\t  <Grid.Row>\n\t\t\t    <Grid.Column width={1}/>\n\t\t\t    <Grid.Column width={14}>\n\t\t\t    \t<Grid>\n\t\t\t\t\t\t\t<Grid.Column width={4}>\n\t\t\t\t\t\t\t\t<Image src='/public/invitae_logo.png' size='massive'/>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t<Grid.Column width={12}>\n\t\t\t\t\t\t\t  <Grid.Row>\n\t\t\t\t\t\t\t\t\t<Header as='h1' style={{fontFamily: 'ScalaSansWeb',\n\t\t\t\t\t\t\t                            color: '#525252',\n\t\t\t\t\t\t\t                            padding: '9px 17px 6px 9px'}}>\n\t\t\t\t\t\t\t      Variant Search\n\t\t\t\t\t\t\t    </Header>\n\t\t\t\t\t\t\t  </Grid.Row>\n\t\t\t\t\t\t\t  <Grid.Row>\n\t\t\t\t\t\t\t  \t<Search loading={isLoading}\n\t\t\t\t\t\t\t  \t        onResultSelect={(e) => this.handleResultSelect(e)}\n\t\t\t\t\t\t\t  \t        \n\t\t\t\t\t\t\t  \t        \tnoResultsMessage = ''\n\t\t\t\t\t\t\t  \t          placeholder='Search for genes'\n\t\t\t\t\t\t\t  \t          options={autosuggestOptions}\n\t\t\t\t\t\t\t  \t          // icon={<SearchIcon handleClick={this.handleClick}/>}\n\t\t\t\t\t\t\t  \t          onKeyUp={(e) => this.handleKeyUp(e)}\n\t\t\t\t\t\t\t  \t          style={{width: '40%'}}\n\t\t\t\t\t\t\t  \t          value={searchTerm}/>\n\t\t\t\t\t\t\t  </Grid.Row>\n\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t</Grid>\n\t\t\t    </Grid.Column>\n\t\t\t    <Grid.Column width={1}/>\n\t\t\t  </Grid.Row>\n\t\t\t  <Grid.Row>\n\t\t\t    <Grid.Column width={16}>\n\t\t\t      <VariantTable variantData={variantData}/>\n\t\t\t    </Grid.Column>\n\t      </Grid.Row>\n      </Grid>\n\t\t)\n\t}\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}